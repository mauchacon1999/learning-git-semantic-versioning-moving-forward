#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🔍 Verificando estado del repositorio antes del commit..."

# Verificar si hay cambios sin commitear
if ! git diff-index --quiet HEAD --; then
  echo "✅ Hay cambios para commitear"
  
  # Verificar si el último commit tiene un tag
  if git describe --exact-match HEAD 2>/dev/null; then
    echo "✅ El commit actual ya tiene un tag"
  else
    echo "⚠️  El commit actual no tiene un tag"
    echo "💡 Después del commit, considera crear un tag con: pnpm run create-tag"
  fi
else
  echo "⚠️  No hay cambios para commitear"
fi
